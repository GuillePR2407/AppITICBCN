{"ast":null,"code":"import _asyncToGenerator from \"@babel/runtime/helpers/asyncToGenerator\";\nimport axios from 'axios';\nvar API_URL = 'http://localhost:8082/api';\nexport var loginUser = function () {\n  var _ref = _asyncToGenerator(function* (email, password) {\n    try {\n      var response = yield axios.post(`${API_URL}/auth/signin`, {\n        email: email,\n        password: password\n      });\n      console.log('Success:', response.data);\n      try {\n        var roleResponse = yield axios.get(`${API_URL}/general/role/${email}`).then(function (response) {\n          var roleId = response.data;\n          console.log('Role ID:', roleId);\n        });\n      } catch (error) {\n        console.error('Error fetching role:', error);\n      }\n    } catch (error) {\n      console.error('Login Error:', error);\n    }\n  });\n  return function loginUser(_x, _x2) {\n    return _ref.apply(this, arguments);\n  };\n}();","map":{"version":3,"names":["axios","API_URL","loginUser","_ref","_asyncToGenerator","email","password","response","post","console","log","data","roleResponse","get","then","roleId","error","_x","_x2","apply","arguments"],"sources":["C:/Users/kikoj/Desktop/DAM/Projecte/AppITICBCN/M13_PROJECTE2/APPITICBCN/src/auth/authService.tsx"],"sourcesContent":["// AuthService.js\r\nimport axios from 'axios';\r\n\r\nconst API_URL = 'http://localhost:8082/api';\r\n\r\nexport const loginUser = async (email, password) => {\r\n    try {\r\n        const response = await axios.post(`${API_URL}/auth/signin`, {\r\n        email: email,\r\n        password: password,\r\n        });\r\n        console.log('Success:', response.data);\r\n        // Here you can handle the response, such as saving the JWT token\r\n\r\n        try {\r\n            const roleResponse = await axios.get(`${API_URL}/general/role/${email}`)\r\n            .then(response => {\r\n                const roleId = response.data;\r\n                console.log('Role ID:', roleId);})\r\n        } catch (error) {\r\n        console.error('Error fetching role:', error);\r\n        }\r\n    } catch (error) {\r\n        console.error('Login Error:', error);\r\n    }\r\n    }\r\n"],"mappings":";AACA,OAAOA,KAAK,MAAM,OAAO;AAEzB,IAAMC,OAAO,GAAG,2BAA2B;AAE3C,OAAO,IAAMC,SAAS;EAAA,IAAAC,IAAA,GAAAC,iBAAA,CAAG,WAAOC,KAAK,EAAEC,QAAQ,EAAK;IAChD,IAAI;MACA,IAAMC,QAAQ,SAASP,KAAK,CAACQ,IAAI,CAAE,GAAEP,OAAQ,cAAa,EAAE;QAC5DI,KAAK,EAAEA,KAAK;QACZC,QAAQ,EAAEA;MACV,CAAC,CAAC;MACFG,OAAO,CAACC,GAAG,CAAC,UAAU,EAAEH,QAAQ,CAACI,IAAI,CAAC;MAGtC,IAAI;QACA,IAAMC,YAAY,SAASZ,KAAK,CAACa,GAAG,CAAE,GAAEZ,OAAQ,iBAAgBI,KAAM,EAAC,CAAC,CACvES,IAAI,CAAC,UAAAP,QAAQ,EAAI;UACd,IAAMQ,MAAM,GAAGR,QAAQ,CAACI,IAAI;UAC5BF,OAAO,CAACC,GAAG,CAAC,UAAU,EAAEK,MAAM,CAAC;QAAC,CAAC,CAAC;MAC1C,CAAC,CAAC,OAAOC,KAAK,EAAE;QAChBP,OAAO,CAACO,KAAK,CAAC,sBAAsB,EAAEA,KAAK,CAAC;MAC5C;IACJ,CAAC,CAAC,OAAOA,KAAK,EAAE;MACZP,OAAO,CAACO,KAAK,CAAC,cAAc,EAAEA,KAAK,CAAC;IACxC;EACA,CAAC;EAAA,gBApBQd,SAASA,CAAAe,EAAA,EAAAC,GAAA;IAAA,OAAAf,IAAA,CAAAgB,KAAA,OAAAC,SAAA;EAAA;AAAA,GAoBjB","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}