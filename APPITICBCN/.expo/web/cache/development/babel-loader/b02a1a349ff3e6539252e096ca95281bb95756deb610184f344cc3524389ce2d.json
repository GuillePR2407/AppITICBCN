{"ast":null,"code":"import _asyncToGenerator from \"@babel/runtime/helpers/asyncToGenerator\";\nimport _slicedToArray from \"@babel/runtime/helpers/slicedToArray\";\nimport React, { createContext, useContext, useState, useEffect } from 'react';\nimport AsyncStorage from '@react-native-async-storage/async-storage';\nimport { jsx as _jsx } from \"react/jsx-runtime\";\nvar UserContext = createContext();\nexport var UserProvider = function UserProvider(_ref) {\n  var children = _ref.children;\n  var _useState = useState(null),\n    _useState2 = _slicedToArray(_useState, 2),\n    userRole = _useState2[0],\n    setUserRole = _useState2[1];\n  useEffect(function () {\n    var loadUserRole = function () {\n      var _ref2 = _asyncToGenerator(function* () {\n        try {\n          var storedUserRole = yield AsyncStorage.getItem('userRole');\n          if (storedUserRole !== null) {\n            setUserRole(JSON.parse(storedUserRole));\n          }\n        } catch (e) {\n          console.error('Failed to load user role from storage', e);\n        }\n      });\n      return function loadUserRole() {\n        return _ref2.apply(this, arguments);\n      };\n    }();\n    loadUserRole();\n  }, []);\n  var saveUserRole = function () {\n    var _ref3 = _asyncToGenerator(function* (role) {\n      try {\n        yield AsyncStorage.setItem('userRole', JSON.stringify(role));\n        setUserRole(role);\n      } catch (e) {\n        console.error('Failed to save user role to storage', e);\n      }\n    });\n    return function saveUserRole(_x) {\n      return _ref3.apply(this, arguments);\n    };\n  }();\n  return _jsx(UserContext.Provider, {\n    value: {\n      userRole: userRole,\n      setUserRole: saveUserRole\n    },\n    children: children\n  });\n};\nexport var useUser = function useUser() {\n  return useContext(UserContext);\n};","map":{"version":3,"names":["React","createContext","useContext","useState","useEffect","AsyncStorage","jsx","_jsx","UserContext","UserProvider","_ref","children","_useState","_useState2","_slicedToArray","userRole","setUserRole","loadUserRole","_ref2","_asyncToGenerator","storedUserRole","getItem","JSON","parse","e","console","error","apply","arguments","saveUserRole","_ref3","role","setItem","stringify","_x","Provider","value","useUser"],"sources":["C:/Users/kikoj/Desktop/DAM/Projecte/AppITICBCN/M13_PROJECTE2/APPITICBCN/src/context/UserContext.tsx"],"sourcesContent":["import React, { createContext, useContext, useState, useEffect } from 'react';\r\nimport AsyncStorage from '@react-native-async-storage/async-storage';\r\n\r\nconst UserContext = createContext();\r\n\r\nexport const UserProvider = ({ children }) => {\r\n    const [userRole, setUserRole] = useState(null);\r\n\r\n    useEffect(() => {\r\n        const loadUserRole = async () => {\r\n        try {\r\n            const storedUserRole = await AsyncStorage.getItem('userRole');\r\n            if (storedUserRole !== null) {\r\n            setUserRole(JSON.parse(storedUserRole));\r\n            }\r\n        } catch (e) {\r\n            console.error('Failed to load user role from storage', e);\r\n        }\r\n        };\r\n\r\n        loadUserRole();\r\n    }, []);\r\n\r\n    const saveUserRole = async (role) => {\r\n        try {\r\n        await AsyncStorage.setItem('userRole', JSON.stringify(role));\r\n        setUserRole(role);\r\n        } catch (e) {\r\n        console.error('Failed to save user role to storage', e);\r\n        }\r\n    };\r\n\r\n    return (\r\n        <UserContext.Provider value={{ userRole, setUserRole: saveUserRole }}>\r\n        {children}\r\n        </UserContext.Provider>\r\n    );\r\n    };\r\n\r\nexport const useUser = () => useContext(UserContext);\r\n"],"mappings":";;AAAA,OAAOA,KAAK,IAAIC,aAAa,EAAEC,UAAU,EAAEC,QAAQ,EAAEC,SAAS,QAAQ,OAAO;AAC7E,OAAOC,YAAY,MAAM,2CAA2C;AAAC,SAAAC,GAAA,IAAAC,IAAA;AAErE,IAAMC,WAAW,GAAGP,aAAa,CAAC,CAAC;AAEnC,OAAO,IAAMQ,YAAY,GAAG,SAAfA,YAAYA,CAAAC,IAAA,EAAqB;EAAA,IAAfC,QAAQ,GAAAD,IAAA,CAARC,QAAQ;EACnC,IAAAC,SAAA,GAAgCT,QAAQ,CAAC,IAAI,CAAC;IAAAU,UAAA,GAAAC,cAAA,CAAAF,SAAA;IAAvCG,QAAQ,GAAAF,UAAA;IAAEG,WAAW,GAAAH,UAAA;EAE5BT,SAAS,CAAC,YAAM;IACZ,IAAMa,YAAY;MAAA,IAAAC,KAAA,GAAAC,iBAAA,CAAG,aAAY;QACjC,IAAI;UACA,IAAMC,cAAc,SAASf,YAAY,CAACgB,OAAO,CAAC,UAAU,CAAC;UAC7D,IAAID,cAAc,KAAK,IAAI,EAAE;YAC7BJ,WAAW,CAACM,IAAI,CAACC,KAAK,CAACH,cAAc,CAAC,CAAC;UACvC;QACJ,CAAC,CAAC,OAAOI,CAAC,EAAE;UACRC,OAAO,CAACC,KAAK,CAAC,uCAAuC,EAAEF,CAAC,CAAC;QAC7D;MACA,CAAC;MAAA,gBATKP,YAAYA,CAAA;QAAA,OAAAC,KAAA,CAAAS,KAAA,OAAAC,SAAA;MAAA;IAAA,GASjB;IAEDX,YAAY,CAAC,CAAC;EAClB,CAAC,EAAE,EAAE,CAAC;EAEN,IAAMY,YAAY;IAAA,IAAAC,KAAA,GAAAX,iBAAA,CAAG,WAAOY,IAAI,EAAK;MACjC,IAAI;QACJ,MAAM1B,YAAY,CAAC2B,OAAO,CAAC,UAAU,EAAEV,IAAI,CAACW,SAAS,CAACF,IAAI,CAAC,CAAC;QAC5Df,WAAW,CAACe,IAAI,CAAC;MACjB,CAAC,CAAC,OAAOP,CAAC,EAAE;QACZC,OAAO,CAACC,KAAK,CAAC,qCAAqC,EAAEF,CAAC,CAAC;MACvD;IACJ,CAAC;IAAA,gBAPKK,YAAYA,CAAAK,EAAA;MAAA,OAAAJ,KAAA,CAAAH,KAAA,OAAAC,SAAA;IAAA;EAAA,GAOjB;EAED,OACIrB,IAAA,CAACC,WAAW,CAAC2B,QAAQ;IAACC,KAAK,EAAE;MAAErB,QAAQ,EAARA,QAAQ;MAAEC,WAAW,EAAEa;IAAa,CAAE;IAAAlB,QAAA,EACpEA;EAAQ,CACa,CAAC;AAE3B,CAAC;AAEL,OAAO,IAAM0B,OAAO,GAAG,SAAVA,OAAOA,CAAA;EAAA,OAASnC,UAAU,CAACM,WAAW,CAAC;AAAA","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}